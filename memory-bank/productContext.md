# Product Context: tsubame-ci

## なぜこのプロジェクトが存在するのか

### 背景
多くの開発チームは、リモートサーバでのスクリプト実行やデプロイメントを行う際に、以下のような課題を抱えています：

- SSH接続して手動でコマンドを実行する煩雑さ
- 実行履歴が残らず、誰が何を実行したか追跡が困難
- 実行結果がターミナルに流れるだけで、後から確認できない
- チーム全体での実行状況の可視化が困難

### 既存ソリューションの課題
- **Jenkins**: 強力だが、設定が複雑で学習コストが高い
- **GitLab CI/CD**: Git中心の設計で、単純なスクリプト実行には過剰
- **GitHub Actions**: GitHubに依存し、プライベート環境での利用に制約

### tsubame-ciのアプローチ
シンプルさと使いやすさに焦点を当て、SSHベースのスクリプト実行に特化したCI/CDツールを提供します。

## 解決する問題

### 1. リモート実行の複雑さ
**問題**: SSHで毎回ログインしてコマンドを実行するのは面倒で、ミスも発生しやすい
**解決**: WEBダッシュボードからワンクリックでスクリプトを実行できる環境を提供

### 2. 実行履歴の欠如
**問題**: ターミナルでの実行は履歴が残らず、後から確認できない
**解決**: すべての実行結果をデータベースに保存し、いつでも閲覧可能にする

### 3. チーム内での可視性
**問題**: 誰がいつ何を実行したか、現在何が実行中かが不明
**解決**: ダッシュボードで実行状況をリアルタイムで可視化

### 4. セットアップの煩雑さ
**問題**: CI/CDツールの導入には複雑な設定が必要
**解決**: Docker Composeで簡単にセットアップできる環境を提供

## プロダクトの仕組み

### ユーザージャーニー

#### 1. ジョブの作成
```
ユーザー → ダッシュボードでジョブを定義
         → 接続先サーバ情報を設定（SSH）
         → 実行するシェルスクリプトを登録
```

#### 2. ジョブの実行
```
ユーザー → ダッシュボードで実行ボタンをクリック
         → バックエンドがSSH接続
         → スクリプトを実行
         → リアルタイムで進捗を表示
```

#### 3. 結果の確認
```
ユーザー → 実行履歴から過去のジョブを選択
         → 実行ログを閲覧
         → 成功/失敗のステータスを確認
```

### コア機能フロー

```
┌─────────────┐
│  Web UI     │
│ (Vue3)      │
└──────┬──────┘
       │ HTTP/WebSocket
┌──────▼──────┐
│   FastAPI   │
│  Backend    │
└──────┬──────┘
       │
       ├─────────┐
       │         │
┌──────▼──────┐ │
│ PostgreSQL  │ │ SSH
│ (履歴保存)  │ │
└─────────────┘ │
                │
        ┌───────▼────────┐
        │ Remote Server  │
        │ (実行対象)     │
        └────────────────┘
```

## ユーザー体験の目標

### 1. シンプルさ
- **3ステップでジョブ実行**: 定義 → 実行 → 確認
- **直感的なUI**: 技術的な知識がなくても使える
- **迅速なセットアップ**: 5分でローカル環境を立ち上げられる

### 2. 可視性
- **リアルタイム更新**: 実行状況が即座に反映される
- **わかりやすいステータス**: 成功/失敗が一目でわかる
- **詳細なログ**: 問題発生時のデバッグが容易

### 3. 信頼性
- **エラーハンドリング**: SSH接続失敗時の適切な通知
- **履歴の永続化**: 実行結果が確実に保存される
- **セキュアな接続**: SSH認証の適切な管理

### 4. 拡張性
- **クリーンなアーキテクチャ**: 機能追加が容易
- **API優先設計**: 外部ツールとの連携が可能
- **モジュラー構造**: コンポーネントの追加・変更が簡単

## ターゲットユーザー

### プライマリユーザー
- **中小規模の開発チーム**: 5-20人程度
- **技術レベル**: 基本的なLinuxコマンドとSSHの知識がある
- **ユースケース**: デプロイメント、定期実行タスク、テスト実行

### ユーザーニーズ
- シンプルで軽量なCI/CDツール
- 素早いセットアップ
- 学習コストの低さ
- プライベート環境での運用

## 競合との差別化

| 特徴 | tsubame-ci | Jenkins | GitLab CI |
|------|------------|---------|-----------|
| セットアップの容易さ | ⭐⭐⭐⭐⭐ | ⭐⭐ | ⭐⭐⭐ |
| UI/UXのシンプルさ | ⭐⭐⭐⭐⭐ | ⭐⭐ | ⭐⭐⭐⭐ |
| SSH実行特化 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐ |
| 機能の豊富さ | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ |

**tsubame-ciの強み**: 「シンプルさ」と「SSH実行の使いやすさ」に特化
